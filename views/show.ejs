<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/sharer.js@latest/sharer.min.js"></script>
	<script src="https://kit.fontawesome.com/785b2ffb06.js" crossorigin="anonymous"></script>
    <style>
		:root{
        --white : #F7F7F7;
        --light_grey : #747A72;
        --grey : #575B56 ;
        --dark_grey :#333834 ;
        --black : #1B231B ;
        --LightPink: #DD8A8A;
		--LightThemePink: #ffa0a4;
      }
		
		.icon_color_white{
        color: var(--LightPink);
      }
      .icon_color_black{
        color: var(--LightThemePink);
      }
		
	  .light_theme{
        background: #FFF8DC;
        color: white;
      }
      .dark{
        background-color: #FFB6C1;
      }

    	 body{
        padding-top: 120px;
        background: var(--black);
        color: var(--LightPink);
      }

    	.navbar-light{
        background: transparent;
      }
      .navbar{
        min-height: 70px;
		backdrop-filter: blur(72px);
      }
	  
		.Highlighter_light{
			box-shadow: 3px 3px 30px yellow;
		}
		.Highlighter_dark{
			box-shadow: 5px 5px 30px black;
		}

      .carousel-control-prev-icon,.carousel-control-next-icon {
		  height: 100px;
		  width: 100px;
		  outline: black;
		  background-size: 100%, 100%;
		  background-image: none;
		}

		.carousel-control-next-icon:after
		{
		  content: '>';
		  font-size: 55px;
		  color: purple;
		}

		.carousel-control-prev-icon:after {
		  content: '<';
		  font-size: 55px;
		  color: purple;
		}

		.btm{
			margin-bottom: 20px;
		}

		.one{
			background-color: var(--dark_grey);
		}

		.card{
		transform-style: preserve-3d;
		}
		
		#img1{
		  cursor: pointer;
		  transition: 0.3s;
		}
		#Theme_change_button_dark{
			cursor: pointer;
		    transition: 0.5s;
			display: none;
		}
		#Theme_change_button_light{
			cursor: pointer;
		    transition: 0.5s;
		}
		

		#img1:hover{opacity: 0.7;}

		.modal1{
		  display: none; /* Hidden by default */
		  position: fixed; /* Stay in place */
		  z-index: 1; /* Sit on top */
		  padding-top: 100px; /* Location of the box */
		  left: 0;
		  top: 0;
		  width: 100%; /* Full width */
		  height: 100%; /* Full height */
		  overflow: auto; /* Enable scroll if needed */
		  background-color: rgb(0,0,0); /* Fallback color */
		  background-color: rgba(0,0,0,0.9); /* Black w/ opacity */
		}

		.modal-content1{
		  margin: auto;
		  display: block;
		  width: 80%;
		  max-width: 700px;
		}

		#caption1{
		  margin: auto;
		  display: block;
		  width: 80%;
		  max-width: 700px;
		  text-align: center;
		  color: #ccc;
		  padding: 10px 0;
		  height: 150px;
		}

		/* Add Animation */
		.modal-content1, #caption1{  
		  animation-name: zoom;
		  animation-duration: 0.6s;
		}


		@keyframes zoom {
		  from {transform: scale(0.1)} 
		  to {transform: scale(1)}
		}

		/* The Close Button */
		.close1{
		  position: absolute;
		  top: 80px;
		  right: 35px;
		  color: #f1f1f1;
		  font-size: 40px;
		  font-weight: bold;
		  transition: 0.3s;
		}

		.close1:hover,
		.close1:focus {
		  color: #bbb;
		  text-decoration: none;
		  cursor: pointer;
		}

		.share, .overlay{
			display: none;
		}
		.showshare{
			display: block;
		}
		
		.margin_social_icons i{
			cursor: pointer;
			margin-right: 16px;
		}
		.margin_social_icons i:last-child{
			margin-right: 0px;
		}
		.margin_social_icons i:first-child{
			margin-left: 16px;
		}

		.overlay{
			opacity: 1;
			position: absolute;
			z-index: 0;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0,0,0,.5);
		}
		.share{
			position: fixed;
			left: 0;
			right: 0;
			top: 40%;
			left: 5%;
			width: 40%;
			z-index: 1;
			padding: 1em;
			background: #1B231B;
			animation-name: zoom;
		  	animation-duration: 0.6s;
		}

		/* 100% Image Width on Smaller Screens */
		@media only screen and (max-width: 700px){
		  .modal-content1{
		    width: 100%;
		  }
		}


    </style>

    <title>Product Info</title>
  </head>
  <body>
    
    <nav class="navbar navbar-light navbar-expand-sm fixed-top">
      <button class="navbar-toggler dark" id="Dropdownicon" type="button" data-toggle="collapse" data-target="#Navbar">
            <span class="navbar-toggler-icon"></span>
        </button>
		<a class="navbar-brand" href="/Buysell"><img id ="logo" src="/stylesheets/logo_dark.jpeg" height="70" width="70" style="border-radius: 50%;"></a>
      <div class="collapse navbar-collapse" id="Navbar">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="/Buysell" style="font-size: 1.5rem;">
              <span class="fa fa-home fa-lg icon_color_white" id="icon"></span>
            </a>
          </li>
        </ul>
      </div>
	 <img id="Theme_change_button_light" height="38" width="38" src="https://img.icons8.com/doodle/48/000000/sun--v1.png"/>
	 <img id="Theme_change_button_dark" height="30" width="30" style="border-raius: 50%;" src="https://img.icons8.com/ios-filled/50/000000/moon-man.png"/>
    </nav>
	
	  <div id="myModal1" class="modal1">
		<span class="close1">&times;</span>
		<img class="modal-content1" id="img01">
		<div id="caption1"></div>
	</div>
	  
    <div class="container">
    	<div class="row justify-content-center">
    		<div class="col-md-5 btm one" style="border-radius: 25px 0 25px 0; box-shadow: -5px -5px 10px var(--grey) , 3px 3px 15px var(--black)" >
    			<div id="carouselExampleControls" class="carousel slide" data-interval="false">
				  <div class="carousel-inner">
					 <div class="carousel-item active">
				      <img class="d-block w-100"src="data:image/<%=founditem.img.contentType%>;base64, 
                     <%=founditem.img.data.toString('base64')%>" alt="First slide" id="img1">
				    </div>
		 
					</div>
				  <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
				    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
				    <span class="sr-only">Previous</span>
				  </a>
				  <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
				    <span class="carousel-control-next-icon" aria-hidden="true"></span>
				    <span class="sr-only">Next</span>
				  </a>
				</div>
    		</div>

    		<div class="col-md-4 ml-md-4 info">
    			<div class="card btm" style=" background-color: var(--black); width: 18rem; border-radius: 25px 0 25px 0; box-shadow: -5px -5px 10px var(--grey) , 3px 3px 15px var(--black)">
				  <div class="card-body">
				    <h3 class="card-title pop">Product Details</h3>
					<h6 class="pop">Seller Name <em><%= founditem.author.username%></em></h6>
					<h6 class="pop">Name <span style="font-size:17px;color:purple"><%= founditem.name %></span></h6>
				    <h6 class="pop">Category <span style="font-size:17px;color:purple"><%= founditem.category %></span></h6>
    				<h6 class="pop">Price â‚¹ <span style="font-size:17px;color:purple"><%= founditem.price %></span></h6>
				  </div>
				</div>
				<div class="card" style=" background-color: var(--black); width: 18rem;border-radius: 25px 0 25px 0; box-shadow: -5px -5px 10px var(--grey) , 3px 3px 15px var(--black)">
				  <div class="card-body pop">
				    <h3 class="card-title pop">Seller Details</h3>
					  Item Added <em><%= moment(founditem.createdAt).fromNow() %></em><br>
				    <i class="fa fa-phone pop" style="font-size:17px;color:purple"> <%= founditem.contact %></i>
				    <i class="fa fa-envelope pop" style="font-size:17px;color:purple"> <%= founditem.email %></i>
				  </div>
				</div>
    		</div>
			<div class="col-9 mt-md-2 mb-2">
    			<button class="btn btn-outline-info shareButton mt-xs-2"><i class="fa fa-share-alt" aria-hidden="true"> Share</i></button>
    		</div>

    	</div>
		
    	<div class="row justify-content-center">
    		<div class="col-md-9">
    			<div class="card" style="background-color: var(--black); margin-bottom: 100px;margin-top: 20px; border-radius: 25px 0 25px 0; box-shadow: -5px -5px 10px var(--grey) , 3px 3px 15px var(--black)">
					
		
				  <div class="card-body">
				    <h5 class="card-title">Decription</h5>
				    <p style="color: purple"><%= founditem.desc %></p>
				  </div>
				</div>
    		</div>
    	</div>
    </div>
	  
	<div class="overlay"></div>
	<div class="container share">
		<div class=" row justify-content-center">
			<div class="col-md-4 margin_social_icons">
				<i class="fab fa-facebook" data-sharer="facebook" data-hashtag="<%=founditem.name%>" data-url="https://csp290-gyijp.run-ap-south1.goorm.io/Buysell/item/<%=ID%>" style= "font-size: 2em; color: #4267B2;"></i>
		
				<i class="fab fa-reddit" data-sharer="reddit" data-url="https://csp290-gyijp.run-ap-south1.goorm.io/Buysell/item/<%=ID%>" style= "font-size: 2em; color: #ED001C;"></i>

				<i class="fab fa-whatsapp" data-sharer="whatsapp" data-title="<%=founditem.name%>" data-url = "https://csp290-gyijp.run-ap-south1.goorm.io/Buysell/item/<%=ID%>" style="color: #25D366; font-size: 2em;"aria-hidden="true"></i>
			</div>
    	</div>
		
		<div class="row justify-content-center mt-2">
			<div class="col-md-8">
				<input type="text" size="35" value="https://csp290-gyijp.run-ap-south1.goorm.io/Buysell/item/<%=ID%>" id="URL" style="margin-right: 16px; background-color: var(--LightPink); border-radius: 10px;">
				<i  type="button" class="fas fa-copy" data-toggle="tooltip" data-placement="bottom" title="Copy to clipboard" style="cursor: pointer;" onclick="copyf()"></i>
			</div>
		</div>
		
	</div>
    
	  

<!--3d effects 	   -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>

<script>
	function copyf() {
  var copyText = document.getElementById("URL");
  copyText.select();
  copyText.setSelectionRange(0, 99999); /*For mobile devices*/

  document.execCommand("copy");
		
  alert("URL copied Succesfully");
}
	
	var b = document.body;
      var icon = document.getElementById("icon");
      var Dropdownicon = document.getElementById("Dropdownicon");
	  var themechanger_light = document.getElementById("Theme_change_button_light");
	  var themechanger_dark = document.getElementById("Theme_change_button_dark");
	  var CARD = document.getElementsByClassName("card");
      themechanger_light.addEventListener("click", function() {
        b.classList.toggle("light_theme");
        icon.classList.toggle("icon_color_black");
		themechanger_light.style.display ="none";
		themechanger_dark.style.display ="block";
		document.getElementById("logo").src = "/stylesheets/logo_light.jpeg";
		var i;
		for(i = 0; i<CARD.length; i++)
			{
				CARD[i].style.backgroundColor = "var(--LightThemePink)";
				CARD[i].style.boxShadow = "-5px -5px 10px var(--LightPink) , 3px 3px 15px var(--LightThemePink)";
			}
      })
	
	themechanger_dark.addEventListener("click", function() {
        b.classList.toggle("light_theme");
        icon.classList.toggle("icon_color_black");
		themechanger_dark.style.display ="none";
		themechanger_light.style.display ="block";
		document.getElementById("logo").src = "/stylesheets/logo_dark.jpeg";
		var i;
		for(i = 0; i<CARD.length; i++)
			{
				CARD[i].style.backgroundColor = "var(--black)";
				CARD[i].style.boxShadow = "-5px -5px 10px var(--grey) , 3px 3px 15px var(--black)";
			}
      })
	
	themechanger_light.addEventListener("mouseenter", (e)=>{
		themechanger_light.classList.add("Highlighter_light");
	});
	themechanger_light.addEventListener("mouseleave", (e)=>{
		themechanger_light.classList.toggle("Highlighter_light");
	});
	
	themechanger_dark.addEventListener("mouseenter", (e)=>{
		themechanger_dark.classList.add("Highlighter_dark");
	});
	themechanger_dark.addEventListener("mouseleave", (e)=>{
		themechanger_dark.classList.toggle("Highlighter_dark");
	});
	
    const info = document.querySelector(".info");
	const pop = document.querySelector(".pop");

	var $info = $(".info");
	var offset = $info.offset();
	var width = $info.width();
	var height = $info.height();

	var centerXinfo = offset.left + width / 2;
	var centerYinfo = offset.top + height / 2;

	info.addEventListener("mousemove", (e) => {
	 let xAxis = (centerXinfo - e.pageX) / 10;
	 let yAxis = (centerYinfo - e.pageY) / 10;
	 info.style.transform = `rotateY(${xAxis}deg) rotateX(${yAxis}deg)`;
	});

	info.addEventListener("mouseenter", (e) => {
	  info.style.transition = "none";
	  //Popout
	  pop.style.transform = "translateZ(150px)";
	});

	info.addEventListener("mouseleave", (e) => {
	  info.style.transition = "all 0.5s ease";
	  info.style.transform = `rotateY(0deg) rotateX(0deg)`;
	  //Popback
	  pop.style.transform = "translateZ(0px)";
	});

	// Get the modal
	var navelement = document.getElementById('nav');
	var Modal = document.getElementById('myModal1');

	// Get the image and insert it inside the modal - use its "alt" text as a caption
	var img = document.getElementById('img1');
	var modalImg = document.getElementById("img01");
	var captionText = document.getElementById("caption1");
	img.onclick = function(){
	  Modal.style.display = "block";
	  modalImg.src = this.src;
	  captionText.innerHTML = this.alt;
	  navelement.classList.toggle('fixed-top');
	}



	// Get the <span> element that closes the modal
	var span = document.getElementsByClassName("close1")[0];
	// When the user clicks on <span> (x), close the modal
	span.onclick = function() {
	  Modal.style.display = "none";
	  navelement.classList.toggle('fixed-top');
	}

	const shareButton = document.querySelector('.shareButton');
	const overlay = document.querySelector('.overlay');
	const shareModal = document.querySelector('.share');

	const title = window.document.title;
	const url = window.document.href;

	shareButton.addEventListener('click', () =>{
		if(navigator.share){
			console.log('yo');
			navigator.share({
				title: `$(title)`,
				url: "<%=ID%>"
			}).then( () => {
				console.log('Thanks for sharing!');
			})
			.catch(console.error);
		}
		else{
			overlay.classList.add('showshare');
			shareModal.classList.add('showshare');
		}

		overlay.addEventListener('click', () => { 
			overlay.classList.remove('showshare');
			shareModal.classList.remove('showshare');
		})
	})

	</script>
	  
	  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  </body>
</html>